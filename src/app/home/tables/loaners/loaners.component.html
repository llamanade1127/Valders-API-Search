<mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
<h2>All Loaners</h2>
<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort>


    <ng-container matColumnDef="sn">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Serial Number"> Serial Number </th>
      <td mat-cell *matCellDef="let loaner"> {{loaner.serialNumber}} </td>
    </ng-container>



    <ng-container matColumnDef="vasd">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Barcode"> Valders I.T. Barcode </th>
      <td mat-cell *matCellDef="let loaner"> {{loaner.vasdCode}} </td>
    </ng-container>

    <ng-container matColumnDef="Model">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Model"> Model</th>
      <td mat-cell *matCellDef="let loaner"> {{loaner.model}} </td>
    </ng-container>

    <ng-container matColumnDef="loanerNumber">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Loaner Number"> Loaner Number </th>
      <td mat-cell *matCellDef="let loaner"> {{loaner.loanerNumber}} </td>
    </ng-container>

    <ng-container matColumnDef="ticket">
      <th mat-header-cell *matHeaderCellDef> Assigned Ticket </th>
      <td mat-cell *matCellDef="let loaner"> {{loaner.assignedTicket}}
        <button mat-icon-button *ngIf="loaner.assignedTicket != 'NONE'" routerLink="/chromebook/{{loaner.serialNumber}}/tickets/active/{{loaner.assignedTicket}}">
          <mat-icon>launch</mat-icon>
        </button>
      </td>
    </ng-container>


    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Actions </th>
      <td mat-cell *matCellDef="let loaner">
        <button mat-icon-button [disabled]="loading" color="warn" (click)="deleteLoaner(loaner)">
          <mat-icon>delete</mat-icon>
        </button>

      </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>

  <mat-paginator [length]="dataSource.data.length" [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of Tickets search results"></mat-paginator>

</div>
<div class="button-container">
  <button mat-raised-button (click)="add()">Add Loaner to database</button>
</div>

